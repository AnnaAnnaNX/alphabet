(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209b80"],{a9f8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-sm-10"},[a("div",{staticClass:"display-1 text-center mt-3"},[e._v(" Sourcies ")]),a("v-dialog",{attrs:{"hide-overlay":"",transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary",fab:"",medium:"",dark:""}},"v-btn",i,!1),n),[a("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[e.dialog?a("form-add-source",{on:{"close-modal":e.closeModal}}):e._e()],1)],1),a("sourcies-table",{attrs:{sourcies:e.sourcies}})],1)},i=[],r=a("5530"),o=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.sourcies?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.sourcies,search:e.search,"items-per-page":5,"mobile-breakpoint":0},scopedSlots:e._u([{key:"item.audios",fn:function(t){var n=t.item;return e._l(n.audios,(function(t,n){return a("div",{key:n},[e._v(" "+e._s(t.character.name)+" ")])}))}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-btn",{attrs:{color:"primary",icon:"",medium:"",dark:""},on:{click:function(t){e.currentPlayId===n.id?e.stop():e.play(n.id,n.link)}}},[a("v-icon",[e._v(" "+e._s(e.currentPlayId===n.id?"mdi-pause":"mdi-play")+" ")])],1)]}},{key:"item.link",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.link.slice(0,15))+"... ")]}}],null,!1,723324659)}),a("v-btn",{attrs:{color:"primary",fab:"",medium:"",dark:"",disabled:!e.currentPlayId},on:{click:e.stop}},[a("v-icon",[e._v(" mdi-pause ")])],1)],1):e._e()},s=[],c={name:"SourciesTable",props:{sourcies:Array},data:function(){return{search:"",audioElement:null,currentPlayId:null,headers:[{text:"Id",align:"start",value:"id"},{text:"File name",align:"start",value:"filename"},{text:"Url",align:"start",value:"link"},{text:"Characters",align:"start",value:"audios"},{text:"Actions",align:"start",value:"actions"}]}},beforeDestroy:function(){this.stop()},methods:{play:function(e,t){var a=this,n=this;n.currentPlayId=null,this.audioElement?(this.audioElement.pause(),this.audioElement.currentTime=0,this.audioElement=new Audio(t),this.audioElement.onloadedmetadata=function(){a.audioElement.play(),n.currentPlayId=e}):(this.audioElement=new Audio(t),this.audioElement.onloadedmetadata=function(){a.audioElement.play(),n.currentPlayId=e})},stop:function(){this.audioElement&&(this.audioElement.pause(),this.audioElement.currentTime=0,this.currentPlayId=null)}}},u=c,d=a("2877"),m=a("6544"),f=a.n(m),v=a("8336"),h=a("8fea"),b=a("132d"),p=Object(d["a"])(u,l,s,!1,null,"9ddf81b2",null),k=p.exports;f()(p,{VBtn:v["a"],VDataTable:h["a"],VIcon:b["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-3"},[a("v-card-title",[e._v(" Add source ")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Name",rules:e.rules},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{attrs:{label:"Link",rules:e.rules},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:e.close}},[e._v("Close")]),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(t){return e.addNewSource()}}},[e._v("Add new source")])],1)],1)},_=[],x=(a("b0c0"),a("498a"),a("9911"),{name:"FormAddSource",data:function(){return{name:null,link:null,rules:[function(e){return!e||!!e.trim()||"required"},function(e){return(!e||e.trim()||"").length>=5||"Min 5 significant characters"},function(e){return(!e||e.trim()||"").length<=1e3||"Max 1000 characters"}]}},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["addSource"])),{},{addNewSource:function(){var e=this;this.name&&this.link&&this.addSource({name:this.name,link:this.link}).then((function(){e.$emit("close-modal")}))},close:function(){this.$emit("close-modal")}})}),g=x,E=a("b0af"),S=a("99d9"),V=a("2fa4"),w=a("8654"),C=Object(d["a"])(g,y,_,!1,null,"2b652527",null),I=C.exports;f()(C,{VBtn:v["a"],VCard:E["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VSpacer:V["a"],VTextField:w["a"]});var j={name:"Sourcies",components:{SourciesTable:k,FormAddSource:I},data:function(){return{dialog:!1}},computed:{sourcies:function(){return this.$store.state.sourcies}},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])(["fetchSourcies"])),{},{closeModal:function(){this.dialog=!1}}),mounted:function(){this.fetchSourcies()}},A=j,O=a("169a"),P=Object(d["a"])(A,n,i,!1,null,null,null);t["default"]=P.exports;f()(P,{VBtn:v["a"],VCard:E["a"],VDialog:O["a"],VIcon:b["a"]})}}]);
//# sourceMappingURL=chunk-2d209b80.6400b0ac.js.map